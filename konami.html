<!DOCTYPE html>
<html>
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <title>Konami Code</title>
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
        }
    </style>
</head>
<body>
<h1>Konami Code</h1>
<h2>&uarr; &uarr; &darr; &darr; &larr; &rarr; &larr; &rarr; b a Enter</h2>
<p id="success"></p>
<img src="img/Jumping_Mario.png" alt="Super Mario" hidden>
<script src="js/jquery.js"></script>
<script>
    "use strict";
    const konamiCode = [
        'ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a', 'Enter'
    ];
    var keySequence = [],
        livesCount = 0,
        success = $('#success'),
        audio = new Audio('smb_1-up.wav');

    $(document).keydown(function(event) {
        keySequence.push(event.key);
        console.log(event.key);
        if (keySequence.join('').includes(konamiCode.join(''))) {
            keySequence = [];

            $('img').show();
            audio.play();

            var fontSize = parseFloat(success.css('font-size'));

            $('body').css({
                'background-color': 'blue',
                'color': 'white'
            });

            success.html('You have added ' + (++livesCount * 30) + ' lives!');

            if (fontSize < 48) {
                fontSize = Math.round(fontSize * 1.25);
                success.css('font-size', fontSize + 'px');
            }

            setTimeout(function() {
                $('body').css({
                    'background-color': 'white',
                    'color': 'black'
                });
            }, 1000);
        }
    });
</script>
</body>
</html>